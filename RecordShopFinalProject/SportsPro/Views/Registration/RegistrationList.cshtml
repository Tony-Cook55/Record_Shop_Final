@model CustomerModel

@{
    ViewData["Title"] = ViewBag.CustomerFirstName + " " + ViewBag.CustomerLastName + " " + "Registrations" ;
}






@*     <h1 class="pt-3">Customer: @Model.CustomerFirstName @Model.CustomerLastName</h1>
 *@    <h1 class="pt-3">Registrations</h1>

        <table class="table table-striped table-striped border border-secondary">
            <thead>
                <tr>
                    <th>Record Name</th>
                    <th>Artist Name</th>
                    <th>Release Date</th>
                    <th>Price</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var product in Model.Products)
                {
                    <tr>
                        <td>@product.RecordName</td>
                        <td>@product.ArtistName</td>
                        <td>@product.ReleaseDate</td>
                        <td>@product.Price</td>
                    </tr>
                }
            </tbody>
        </table>




        @* +++++ ADDING PRODUCT TO THE CUSTOMER +++++ *@
        <h1 class="mt-3">Register New Product</h1>

        <form asp-action="RegisterToCustomer" asp-controller="Registration" method="post">
            <div class="form-group">
                <label for="productModelId">Select Product:</label>
                <select class="form-control" name="productModelId" id="productModelId">
                    <option value="">Select Product</option>
                    @foreach (var product in ViewBag.AllProducts)
                    {
                        <option value="@product.ProductModelId">@product.RecordName by @product.ArtistName</option>
                    }
                </select>
            </div>

            @* Passes The Current Customers Id In To Add *@
            <input type="hidden" name="customerModelId" value="@Model.CustomerModelId" />


            <button type="submit" class="btn btn-primary mt-3">Register</button>
        </form>



@* mmmmmmmmmmmmmmm TEMP DATA CRUD MESSAGE mmmmmmmmmmmmmmm *@
@if (!string.IsNullOrEmpty(TempData["CRUDMessage"] as string))
{
    <div class="error text-center         crud_message_slide_in" id="errorMessage">
        <div class="error__icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" height="24" fill="none"><path fill="#393a37" d="m13 13h-2v-6h2zm0 4h-2v-2h2zm-1-15c-1.3132 0-2.61358.25866-3.82683.7612-1.21326.50255-2.31565 1.23915-3.24424 2.16773-1.87536 1.87537-2.92893 4.41891-2.92893 7.07107 0 2.6522 1.05357 5.1957 2.92893 7.0711.92859.9286 2.03098 1.6651 3.24424 2.1677 1.21325.5025 2.51363.7612 3.82683.7612 2.6522 0 5.1957-1.0536 7.0711-2.9289 1.8753-1.8754 2.9289-4.4189 2.9289-7.0711 0-1.3132-.2587-2.61358-.7612-3.82683-.5026-1.21326-1.2391-2.31565-2.1677-3.24424-.9286-.92858-2.031-1.66518-3.2443-2.16773-1.2132-.50254-2.5136-.7612-3.8268-.7612z"></path></svg>
        </div>
        <div class="error__title">@(TempData["CRUDMessage"])</div>
        <div class="error__close" onclick="closeErrorMessage()">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" viewBox="0 0 20 20" height="20">
                <path fill="#393a37" d="m15.8333 5.34166-1.175-1.175-4.6583 4.65834-4.65833-4.65834-1.175 1.175 4.65833 4.65834-4.65833 4.6583 1.175 1.175 4.65833-4.6583 4.6583 4.6583 1.175-1.175-4.6583-4.6583z"></path>
            </svg>
        </div>
    </div>
}
@* mmmmmmmmmmmmmmm TEMP DATA CRUD MESSAGE mmmmmmmmmmmmmmm *@


        @if (!string.IsNullOrEmpty(TempData["CustomerAlreadyRegistered"] as string))
        {
            <div class="text-center bg-danger py-3 mt-3">
                <h1 class="">@(TempData["CustomerAlreadyRegistered"])</h1>
            </div>
        }
        @* +++++ ADDING PRODUCT TO THE CUSTOMER +++++ *@




